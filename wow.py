import pandas as pd
import matplotlib.pyplot as plt
from pandas.plotting import table

data = {
    "Категория": ["Общество", "Экономика", "Технологии", "Спорт", "Развлечения", "Наука", "Другое"],
    "Включает": [
        "Политика, Выборы, Законодательство, Происшествия, Преступления",
        "Рынки, Финансы, Бизнес",
        "Гаджеты, Автомобили, Приложения, Интернет-сервисы",
        "Спорт любого вида, включая Киберспорт",
        "Фильмы, Музыка, Игры, Книги, Искусство, Знаменитости, Животные",
        "Здоровье, Биология, Физика, Генетика",
        "То, что не подходит под другие категории"
    ],
    "Примеры": [
        "Новый закон принят, Авария на дороге, Теракт, Преступление, Катастрофа/стихийное бедствие, Политические дебаты",
        "Изменение цен на нефть, Банкротство компании, Уровень безработицы, Курсы валют, Инфляция",
        "Новый iPhone, Электромобили, Социальные сети, Приложения",
        "Футбольный матч, Олимпиада, Турнир по теннису, Соревнования по киберспорту",
        "Новый фильм, Концерт певца, Выход компьютерной игры, Церемония награждения, Животные в зоопарке",
        "Медицинское открытие, Исследование космоса, Клонирование, Научная теория",
        "Обычный прогноз погоды, Общие объявления, Личные истории"
    ],
    "Важные особенности": [
        "Все преступления обычных людей, Все катастрофы, Экстремальная погода с последствиями",
        "Фокус на финансовой стороне, Если главная тема - деньги/рынок",
        "НЕ включает игры, Технические устройства",
        "Все новости о спортсменах в спортивном контексте",
        "Игры всегда в этой категории, Знаменитости в неполитическом контексте",
        "Научный взгляд на природные явления, Исследования",
        "Всё, что не подходит к другим категориям"
    ]
}

df = pd.DataFrame(data)

# Функция для создания и сохранения таблицы
def create_combined_table(dataframe, filename):
    fig, ax = plt.subplots(figsize=(14, 24))  # Увеличиваем высоту фигуры
    ax.axis('tight')
    ax.axis('off')
    tbl = table(ax, dataframe, loc='center', cellLoc='center', colWidths=[0.1, 0.3, 0.3, 0.3])
    tbl.auto_set_font_size(False)
    tbl.set_fontsize(8)
    tbl.scale(1.2, 1.2)
    plt.savefig(filename)
    plt.show()

# Создаем и сохраняем объединенную таблицу
create_combined_table(df, '/Users/bekzzz/Desktop/attendance_system/combined_table.png')
